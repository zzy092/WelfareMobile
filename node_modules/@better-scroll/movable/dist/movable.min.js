!function(o,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(o="undefined"!=typeof globalThis?globalThis:o||self).Movable=t()}(this,function(){"use strict";var n="undefined"!=typeof window,e=n&&navigator.userAgent.toLowerCase();e&&/wechatdevtools/.test(e),e&&e.indexOf("android"),function(){if("string"!=typeof e)return;var o=/os (\d\d?_\d(_\d)?)/.exec(e);if(!o)return;var t=o[1].split("_").map(function(o){return parseInt(o,10)});13===t[0]&&t[1]}();if(n){try{var o={};Object.defineProperty(o,"passive",{get:function(){}}),window.addEventListener("test-passive",function(){},o)}catch(o){}}var r=n&&document.createElement("div").style,t=function(){if(!n)return!1;for(var o=0,t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];o<t.length;o++){var e=t[o];if(void 0!==r[e.value])return e.key}return!1}();function s(o){return!1===t?o:"standard"===t?"transitionEnd"===o?"transitionend":o:t+o.charAt(0).toUpperCase()+o.substr(1)}t&&"standard"!==t&&t.toLowerCase();var i=s("transform"),l=s("transition"),a=(n&&s("perspective")in r,s("transitionTimingFunction"),s("transitionDuration"),s("transitionDelay"),s("transformOrigin"),s("transitionEnd"),s("transitionProperty"),{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(o){return 1- --o*o*o*o}}),u=[{key:"putAt",name:"putAt"}].map(function(o){return{key:o.key,sourceKey:"plugins.movable."+o.name}});function c(o){this.scroll=o,this.handleBScroll(),this.handleHooks()}return c.prototype.handleBScroll=function(){this.scroll.proxy(u)},c.prototype.handleHooks=function(){var o=this;this.hooksFn=[];function t(o,t){0<o.maxScrollPos&&(o.minScrollPos=t.wrapperSize-t.contentSize,o.maxScrollPos=0)}var e=this.scroll.scroller,n=e.scrollBehaviorX,r=e.scrollBehaviorY;this.registerHooks(n.hooks,n.hooks.eventTypes.ignoreHasScroll,function(){return!0}),this.registerHooks(n.hooks,n.hooks.eventTypes.computeBoundary,function(o){t(o,n)}),this.registerHooks(r.hooks,r.hooks.eventTypes.ignoreHasScroll,function(){return!0}),this.registerHooks(r.hooks,r.hooks.eventTypes.computeBoundary,function(o){t(o,r)}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.destroy,function(){o.destroy()})},c.prototype.putAt=function(o,t,e,n){void 0===e&&(e=this.scroll.options.bounceTime),void 0===n&&(n=a);var r=this.resolvePostion(o,t);this.scroll.scrollTo(r.x,r.y,e,n)},c.prototype.resolvePostion=function(o,t){var e=this.scroll.scroller,n=e.scrollBehaviorX,r=e.scrollBehaviorY,s={left:function(){return 0},top:function(){return 0},right:function(){return n.minScrollPos},bottom:function(){return r.minScrollPos},center:function(o){return(0===o?n.minScrollPos:r.minScrollPos)/2}};return{x:"number"==typeof o?o:s[o](0),y:"number"==typeof t?t:s[t](1)}},c.prototype.destroy=function(){this.hooksFn.forEach(function(o){var t=o[0],e=o[1],n=o[2];t.off(e,n)}),this.hooksFn.length=0},c.prototype.registerHooks=function(o,t,e){o.on(t,e,this),this.hooksFn.push([o,t,e])},c.pluginName="movable",c.applyOrder="pre",c});
