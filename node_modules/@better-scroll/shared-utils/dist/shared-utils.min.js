!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SharedUtils={})}(this,function(o){"use strict";function n(e){console.error("[BScroll warn]: "+e)}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var r="undefined"!=typeof window,i=r&&navigator.userAgent.toLowerCase(),e=!(!i||!/wechatdevtools/.test(i)),t=i&&0<i.indexOf("android"),s=function(){if("string"!=typeof i)return!1;var e=/os (\d\d?_\d(_\d)?)/.exec(i);if(!e)return!1;var t=e[1].split("_").map(function(e){return parseInt(e,10)});return!!(13===t[0]&&4<=t[1])}();if(o.supportsPassive=!1,r){try{var a={};Object.defineProperty(a,"passive",{get:function(){o.supportsPassive=!0}}),window.addEventListener("test-passive",function(){},a)}catch(e){}}var c=function(e,t){for(var n in t)e[n]=t[n];return e};var f=r&&document.createElement("div").style,p=function(){if(!r)return!1;for(var e=0,t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}];e<t.length;e++){var n=t[e];if(void 0!==f[n.value])return n.key}return!1}();function v(e){return!1===p?e:"standard"===p?"transitionEnd"===e?"transitionend":e:p+e.charAt(0).toUpperCase()+e.substr(1)}function l(e,t,n,r){var i=o.supportsPassive?{passive:!1,capture:!!r}:!!r;e.addEventListener(t,n,i)}function h(e,t,n,r){e.removeEventListener(t,n,{capture:!!r})}var d=p&&"standard"!==p?"-"+p.toLowerCase()+"-":"",y=v("transform"),m=v("transition"),g=r&&v("perspective")in f,w=r&&("ontouchstart"in window||e),E=r&&m in f,b={transform:y,transition:m,transitionTimingFunction:v("transitionTimingFunction"),transitionDuration:v("transitionDuration"),transitionDelay:v("transitionDelay"),transformOrigin:v("transformOrigin"),transitionEnd:v("transitionEnd"),transitionProperty:v("transitionProperty")};function T(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1}var O=T;function C(e,t){var n;void 0===t&&(t="click"),"mouseup"===e.type?n=e:"touchend"!==e.type&&"touchcancel"!==e.type||(n=e.changedTouches[0]);var r,i={};n&&(i.screenX=n.screenX||0,i.screenY=n.screenY||0,i.clientX=n.clientX||0,i.clientY=n.clientY||0);var o=!0,s=!0,a={ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey};if("undefined"!=typeof MouseEvent)try{r=new MouseEvent(t,c(u({bubbles:o,cancelable:s},a),i))}catch(e){f()}else f();function f(){(r=document.createEvent("Event")).initEvent(t,o,s),c(r,i)}r.forwardedTouchEvent=!0,r._constructed=!0,e.target.dispatchEvent(r)}function k(e,t){t.parentNode.insertBefore(e,t)}function A(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)}var D=r&&window;function M(){}function x(e){}var F=r?D.requestAnimationFrame||D.webkitRequestAnimationFrame||D.mozRequestAnimationFrame||D.oRequestAnimationFrame||function(e){return window.setTimeout(e,e.interval||1e3/60)}:M,P=r?D.cancelAnimationFrame||D.webkitCancelAnimationFrame||D.mozCancelAnimationFrame||D.oCancelAnimationFrame||function(e){window.clearTimeout(e)}:M,j={enumerable:!0,configurable:!0,get:x,set:x};var B=(R.prototype.on=function(e,t,n){return void 0===n&&(n=this),this.hasType(e),this.events[e]||(this.events[e]=[]),this.events[e].push([t,n]),this},R.prototype.once=function(r,i,o){var s=this;void 0===o&&(o=this),this.hasType(r);var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.off(r,a);var n=i.apply(o,e);if(!0===n)return n};return a.fn=i,this.on(r,a),this},R.prototype.off=function(e,t){if(!e&&!t)return this.events={},this;if(e){if(this.hasType(e),!t)return this.events[e]=[],this;var n=this.events[e];if(!n)return this;for(var r=n.length;r--;)(n[r][0]===t||n[r][0]&&n[r][0].fn===t)&&n.splice(r,1);return this}},R.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.hasType(e);var r=this.events[e];if(r)for(var i,o=r.length,s=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}(r),a=0;a<o;a++){var f=s[a],u=f[0],c=f[1];if(u&&!0===(i=u.apply(c,t)))return i}},R.prototype.registerType=function(e){var t=this;e.forEach(function(e){t.eventTypes[e]=e})},R.prototype.destroy=function(){this.events={},this.eventTypes={}},R.prototype.hasType=function(e){var t=this.eventTypes;t[e]===e||n('EventEmitter has used unknown event type: "'+e+'", should be oneof ['+Object.keys(t).map(function(e){return JSON.stringify(e)})+"]")},R);function R(e){this.events={},this.eventTypes={},this.registerType(e)}var S=(z.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},z.prototype.addDOMEvents=function(){this.handleDOMEvents(l)},z.prototype.removeDOMEvents=function(){this.handleDOMEvents(h)},z.prototype.handleDOMEvents=function(t){var n=this,r=this.wrapper;this.events.forEach(function(e){t(r,e.name,n,!!e.capture)})},z.prototype.handleEvent=function(t){var n=t.type;this.events.some(function(e){return e.name===n&&(e.handler(t),!0)})},z);function z(e,t){this.wrapper=e,this.events=t,this.addDOMEvents()}o.EventEmitter=B,o.EventRegister=S,o.HTMLCollectionToArray=function(e){return Array.prototype.slice.call(e,0)},o.addClass=function(e,t){var n;A(e,t)||((n=e.className.split(" ")).push(t),e.className=n.join(" "))},o.addEvent=l,o.assert=function(e,t){if(!e)throw new Error("[BScroll] "+t)},o.before=k,o.between=function(e,t,n){return e<t?t:n<e?n:e},o.cancelAnimationFrame=P,o.click=C,o.cssVendor=d,o.dblclick=function(e){C(e,"dblclick")},o.ease={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(e){return 1+--e*e*e*e*e}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(e){return 1- --e*e*e*e}}},o.eventTypeMap={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup:2},o.extend=c,o.findIndex=function(e,i){if(e.findIndex)return e.findIndex(i);var o=-1;return e.some(function(e,t,n){var r=i(e,t,n);if(r)return o=t,r}),o},o.getClientSize=function(e){return{width:e.clientWidth,height:e.clientHeight}},o.getDistance=function(e,t){return Math.sqrt(e*e+t*t)},o.getElement=function(e){return"string"==typeof e?document.querySelector(e):e},o.getNow=function(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date},o.getRect=function(e){if(e instanceof window.SVGElement){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},o.hasClass=A,o.hasPerspective=g,o.hasTouch=w,o.hasTransition=E,o.inBrowser=r,o.isAndroid=t,o.isIOSBadVersion=s,o.isUndef=function(e){return null==e},o.isWeChatDevTools=e,o.offset=function(e){for(var t=0,n=0;e;)t-=e.offsetLeft,n-=e.offsetTop,e=e.offsetParent;return{left:t,top:n}},o.offsetToBody=function(e){var t=e.getBoundingClientRect();return{left:-(t.left+window.pageXOffset),top:-(t.top+window.pageYOffset)}},o.prepend=function(e,t){var n=t.firstChild;n?k(e,n):t.appendChild(e)},o.preventDefaultExceptionFn=T,o.propertiesProxy=function(e,t,n){j.get=function(){return function(e,t){for(var n=t.split("."),r=0;r<n.length-1;r++)if("object"!=typeof(e=e[n[r]])||!e)return;var i=n.pop();return"function"==typeof e[i]?function(){return e[i].apply(e,arguments)}:e[i]}(this,t)},j.set=function(e){!function(e,t,n){for(var r,i=t.split("."),o=0;o<i.length-1;o++)e[r=i[o]]||(e[r]={}),e=e[r];e[i.pop()]=n}(this,t,e)},Object.defineProperty(e,n,j)},o.removeChild=function(e,t){e.removeChild(t)},o.removeClass=function(e,t){var n;A(e,t)&&(n=new RegExp("(^|\\s)"+t+"(\\s|$)","g"),e.className=e.className.replace(n," "))},o.removeEvent=h,o.requestAnimationFrame=F,o.style=b,o.tagExceptionFn=O,o.tap=function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},o.ua=i,o.warn=n,Object.defineProperty(o,"__esModule",{value:!0})});
