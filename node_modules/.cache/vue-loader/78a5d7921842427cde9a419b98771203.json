{"remainingRequest":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\Welfare_New_System\\welfare_mobile\\src\\views\\login\\Login.vue?vue&type=style&index=0&id=26cc02ec&scoped=true&lang=css&","dependencies":[{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\src\\views\\login\\Login.vue","mtime":1617440253225},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2xvZ2luIHsKICB3aWR0aDogMTAwdnc7CiAgaGVpZ2h0OiAxMDB2aDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uL2Fzc2V0cy9pbWcvbG9naW4vYmcucG5nKTsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwp9CgouYXVpLWZsZXhWaWV3IGgxIHsKICBtYXJnaW46IDA7Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <div id=\"login\">\n    <!-- <login-nav-bar class=\"navbar\" /> -->\n    <section class=\"aui-flexView\">\n      <section class=\"aui-scrollView\">\n        <!--标题-->\n        <div class=\"aui-account-title\">\n          <h1>账号登陆</h1>\n        </div>\n        <!--账号密码-->\n        <div class=\"aui-account-tile\">\n          <div class=\"b-line\">\n            <input\n              type=\"text\"\n              v-model=\"loginName\"\n              placeholder=\"请输入登录账号\"\n              id=\"login_name\"\n            />\n            <label id=\"login_name_text\" class=\"err\">手机号不可为空</label>\n          </div>\n          <div>\n            <input\n              type=\"password\"\n              v-model=\"loginPassword\"\n              placeholder=\"请输入密码\"\n              id=\"login_password\"\n            />\n            <label class=\"err\">密码不可为空</label>\n          </div>\n        </div>\n        <!--登录按钮-->\n        <div class=\"aui-account-button\">\n          <button id=\"login_submit\" @click=\"login\">登录</button>\n        </div>\n      </section>\n    </section>\n  </div>\n</template>\n\n<script>\nimport md5 from \"js-md5\";\n\nimport { accountLogin} from \"network/login\";\n\nexport default {\n  components: {},\n  data() {\n    return {\n      loginName: \"lisa\",\n      loginPassword: \"nawxs2..2\",\n    };\n  },\n  methods: {\n    login() {\n      let md5Pwd = md5(this.loginPassword);\n      let corpid = this.$store.getters.corpidValue; //this.$store.corpid;\n      const obj = {};\n      obj.loginName = this.loginName;\n      obj.password = md5Pwd;\n      obj.corpid = corpid;\n      obj.deviceType = 1;\n      let t = new Date(); //你已知的时间\n      let t_s = t.getTime(); //转化为时间戳毫秒数\n      let nt = new Date(); //定义一个新时间\n      nt.setTime(t_s + 5000 * 60); //设置新时间比旧时间多5分钟\n      let refresh_expires=nt.getTime();\n      obj.refresh_expires = refresh_expires;\n      accountLogin(obj).then((res) => {\n        if (res.success) {\n          var storage = window.localStorage;\n          storage.clear();\n          storage.setItem(\"token\", res.result.access_token);\n\n          this.$store.commit({\n            type: \"updateToken\",\n            token: storage.token,\n            corpid: res.result.corpid,\n          });\n          //跳转到用户福利首页\n          console.log(\"跳转到用户首页\");\n          var corpid=this.$store.getters.corpidValue\n          console.log(corpid);\n           this.$router.push({ path: \"/homepage\", query: { corpid } });\n        } else {\n          console.log(res.resultMessage);\n        }\n      });\n    }\n  },\n};\n</script>\n\n<style scoped>\n#login {\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  background-image: url(../../assets/img/login/bg.png);\n  background-size: cover;\n}\n\n.aui-flexView h1 {\n  margin: 0;\n}\n</style>\n"]}]}