{"remainingRequest":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\code\\Welfare_New_System\\welfare_mobile\\src\\store\\actions.js","dependencies":[{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\src\\store\\actions.js","mtime":1617706363858},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgeyBhZGRTa3VDYXJ0LCB1cGRhdGVDYXJ0TnVtYmVyLCBkZWxldGVTa3VDYXJ0IH0gZnJvbSAibmV0d29yay9qZENhcnQuanMiOwppbXBvcnQgeyBzdWJtaXRPcmRlciBhcyBfc3VibWl0T3JkZXIgfSBmcm9tICJuZXR3b3JrL2pkT3JkZXIiOwppbXBvcnQgeyBnZXROb3dDYXJ0IH0gZnJvbSAibmV0d29yay9qZENhcnQiOwp2YXIgYWN0aW9ucyA9IHsKICBkZWxldGVDYXJ0OiBmdW5jdGlvbiBkZWxldGVDYXJ0KGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBjb25zb2xlLmxvZygiW0FjdGlvbl0tW+i0reeJqei9pl0tW+WIoOmZpOWVhuWTgV0iKTsKICAgICAgdmFyIG9sZEluZm8gPSBjb250ZXh0LnN0YXRlLmNhcnRMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5za3VpZCA9PT0gcGF5bG9hZC5za3VNb2RlbC5za3VpZDsKICAgICAgfSk7CgogICAgICBpZiAob2xkSW5mbykgewogICAgICAgIGRlbGV0ZVNrdUNhcnQob2xkSW5mbykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgY29udGV4dC5jb21taXQoewogICAgICAgICAgICAgIHR5cGU6ICJkZWxldGVDYXJ0IiwKICAgICAgICAgICAgICBnZXRtb2RlbDogcGF5bG9hZC5za3VNb2RlbAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIuW3suWIoOmZpCIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoIuWIoOmZpOWksei0pSIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiByZXNvbHZlKCIwMDAiKTsKICAgICAgfQogICAgfSk7CiAgfSwKICAvL+W8guatpea3u+WKoOi0reeJqei9puWVhuWTgQogIGFkZENhcnQ6IGZ1bmN0aW9uIGFkZENhcnQoY29udGV4dCwgcGF5bG9hZCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIC8vIDEu5p+l55yL5piv5ZCm5re75Yqg6L+HCiAgICAgIHZhciBvbGRJbmZvID0gY29udGV4dC5zdGF0ZS5jYXJ0TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uc2t1aWQgPT09IHBheWxvYWQuc2t1TW9kZWwuc2t1aWQ7CiAgICAgIH0pOyAvLyAyLuS/ruaUuSDmiJYgIOa3u+WKoAoKICAgICAgaWYgKG9sZEluZm8pIHsKICAgICAgICBjb25zb2xlLmxvZygiW0FjdGlvbl0tW+i0reeJqei9pl0tW+abtOaWsOaVsOmHj10iKTsKICAgICAgICB1cGRhdGVDYXJ0TnVtYmVyKHBheWxvYWQuc2t1TW9kZWwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KHsKICAgICAgICAgICAgICB0eXBlOiAidXBkYXRlQ2FydCIsCiAgICAgICAgICAgICAgZ2V0bW9kZWw6IHBheWxvYWQuc2t1TW9kZWwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCLotK3nianovablt7Lmm7TmlrAiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLotK3nianovabmm7TmlrDplJnor6/kv6Hmga8g4oaT4oaT4oaT4oaT4oaT4oaTICIpOwogICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgi5pu05paw5aSx6LSlIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIltBY3Rpb25dLVvotK3nianovaZdLVvmt7vliqDllYblk4FdIik7CiAgICAgICAgYWRkU2t1Q2FydChwYXlsb2FkLnNrdU1vZGVsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgiYWRkQ2FydCIsIHsKICAgICAgICAgICAgICBpbmZvOiBwYXlsb2FkLnNrdU1vZGVsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgi5re75Yqg5oiQ5YqfIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygi6LSt54mp6L2m5re75Yqg6ZSZ6K+v5L+h5oGvIOKGk+KGk+KGk+KGk+KGk+KGkyAiKTsgLy8gY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCLmt7vliqDlpLHotKUiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSwKICAvL+aPkOS6pOiuouWNlQogIHN1Ym1pdE9yZGVyOiBmdW5jdGlvbiBzdWJtaXRPcmRlcihjb250ZXh0LCBwYXlsb2FkKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgX3N1Ym1pdE9yZGVyKHBheWxvYWQucXVlcnlNb2RlbCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB2YXIgZGVsZXRlU2t1cyA9IHBheWxvYWQucXVlcnlNb2RlbC5za3VzOyAvL+WIoOmZpOWImuWImuWcqOi0reeJqei9pumHjCDotK3kubDmiJDlip/nmoTllYblk4EKCiAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZGVsZXRlU2t1cy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkZWxldGVTa3VzW2luZGV4XTsKICAgICAgICAgICAgdmFyIG9iaiA9IHt9OwogICAgICAgICAgICBvYmouc2t1aWQgPSBlbGVtZW50LnNrdUlkOwogICAgICAgICAgICBjb250ZXh0LmNvbW1pdCh7CiAgICAgICAgICAgICAgdHlwZTogImRlbGV0ZUNhcnQiLAogICAgICAgICAgICAgIGdldG1vZGVsOiBlbGVtZW50CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlcy5yZXN1bHQub3JkZXJfc24pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgiIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy/lkIzmraVjYXJ0CiAgc3lzY0NhcnQ6IGZ1bmN0aW9uIHN5c2NDYXJ0KGNvbnRleHQpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBnZXROb3dDYXJ0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRiQ2FydExpc3QgPSByZXMucmVzdWx0OwoKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIC8v5Yig6Zmk5omA5pyJCiAgICAgICAgICBjb250ZXh0LmNvbW1pdCh7CiAgICAgICAgICAgIHR5cGU6ICJkZWxldGVBbGxDYXJ0IgogICAgICAgICAgfSk7IC8v6YeN5YaZ5re75YqgCgogICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGRiQ2FydExpc3QubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZGJDYXJ0TGlzdFtpbmRleF07CiAgICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgICAgb2JqLnNrdWlkID0gZWxlbWVudC5za3VpZDsKICAgICAgICAgICAgb2JqLnByb2R1Y3RfbnVtID0gZWxlbWVudC5udW1iZXI7CiAgICAgICAgICAgIG9iai5wcm9kdWN0X25hbWUgPSBlbGVtZW50LnByb2R1Y3ROYW1lOwogICAgICAgICAgICBvYmoucHJvZHVjdF9pbWcgPSBlbGVtZW50LmltZzsKICAgICAgICAgICAgb2JqLnByb2R1Y3RfamRwcmljZSA9IGVsZW1lbnQucHJvZHVjdEpkUHJpY2U7CiAgICAgICAgICAgIG9iai5wcm9kdWN0X3B0cHJpY2UgPSBlbGVtZW50LnByb2R1Y3RQdFByaWNlOwogICAgICAgICAgICBvYmoucHJvZHVjdF9wcmljZSA9IGVsZW1lbnQucHJvZHVjdFByaWNlOwogICAgICAgICAgICBvYmouc2FsZV92YWx1ZSA9IGVsZW1lbnQuc2FsZTsKICAgICAgICAgICAgb2JqLnN0b2NrTXNnID0gZWxlbWVudC5zdG9ja1N0YXRlRGVzYzsKICAgICAgICAgICAgb2JqLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICBjb250ZXh0LmNvbW1pdCh7CiAgICAgICAgICAgICAgdHlwZTogImFkZENhcnQiLAogICAgICAgICAgICAgIGluZm86IG9iagogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgi5ZCM5q2l6LSt54mp6L2m5oiQ5YqfIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiByZXNvbHZlKCLlkIzmraXotK3nianovablpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBhY3Rpb25zOw=="},{"version":3,"sources":["D:/code/Welfare_New_System/welfare_mobile/src/store/actions.js"],"names":["addSkuCart","updateCartNumber","deleteSkuCart","submitOrder","getNowCart","actions","deleteCart","context","payload","Promise","resolve","console","log","oldInfo","state","cartList","find","item","skuid","skuModel","then","res","success","commit","type","getmodel","addCart","info","queryModel","deleteSkus","skus","index","length","element","obj","skuId","result","order_sn","syscCart","dbCartList","product_num","number","product_name","productName","product_img","img","product_jdprice","productJdPrice","product_ptprice","productPtPrice","product_price","productPrice","sale_value","sale","stockMsg","stockStateDesc","checked"],"mappings":"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","sourcesContent":["import { addSkuCart, updateCartNumber, deleteSkuCart } from \"network/jdCart.js\";\nimport { submitOrder } from \"network/jdOrder\";\nimport { getNowCart } from \"network/jdCart\";\n\nconst actions = {\n  deleteCart(context, payload) {\n    return new Promise(resolve => {\n      console.log(\"[Action]-[购物车]-[删除商品]\");\n      const oldInfo = context.state.cartList.find(\n        item => item.skuid === payload.skuModel.skuid\n      );\n      if (oldInfo) {\n        deleteSkuCart(oldInfo).then(res => {\n          if (res.success) {\n            context.commit({\n              type: \"deleteCart\",\n              getmodel: payload.skuModel\n            });\n            return resolve(\"已删除\");\n          } else {\n            return resolve(\"删除失败\");\n          }\n        });\n      } else {\n        return resolve(\"000\");\n      }\n    });\n  },\n  //异步添加购物车商品\n  addCart(context, payload) {\n    return new Promise(resolve => {\n      // 1.查看是否添加过\n      const oldInfo = context.state.cartList.find(\n        item => item.skuid === payload.skuModel.skuid\n      );\n\n      // 2.修改 或  添加\n      if (oldInfo) {\n        console.log(\"[Action]-[购物车]-[更新数量]\");\n        updateCartNumber(payload.skuModel).then(res => {\n          if (res.success) {\n            context.commit({\n              type: \"updateCart\",\n              getmodel: payload.skuModel\n            });\n            return resolve(\"购物车已更新\");\n          } else {\n            console.log(\"购物车更新错误信息 ↓↓↓↓↓↓ \");\n            return resolve(\"更新失败\");\n          }\n        });\n      } else {\n        console.log(\"[Action]-[购物车]-[添加商品]\");\n        addSkuCart(payload.skuModel).then(res => {\n          if (res.success) {\n            context.commit(\"addCart\", { info: payload.skuModel });\n            return resolve(\"添加成功\");\n          } else {\n            console.log(\"购物车添加错误信息 ↓↓↓↓↓↓ \");\n            // console.log(res);\n            return resolve(\"添加失败\");\n          }\n        });\n      }\n    });\n  },\n  //提交订单\n  submitOrder(context, payload) {\n    return new Promise(resolve => {\n      submitOrder(payload.queryModel).then(res => {\n        if (res.success) {\n          let deleteSkus = payload.queryModel.skus;\n\n          //删除刚刚在购物车里 购买成功的商品\n          for (let index = 0; index < deleteSkus.length; index++) {\n            const element = deleteSkus[index];\n            let obj = {};\n            obj.skuid = element.skuId;\n            context.commit({\n              type: \"deleteCart\",\n              getmodel: element\n            });\n          }\n          return resolve(res.result.order_sn);\n        } else {\n          return resolve(\"\");\n        }\n      });\n    });\n  },\n  //同步cart\n  syscCart(context) {\n    return new Promise(resolve => {\n      getNowCart().then(res => {\n        let dbCartList = res.result;\n        if (res.success) {\n          //删除所有\n          context.commit({\n            type: \"deleteAllCart\"\n          });\n          //重写添加\n          for (let index = 0; index < dbCartList.length; index++) {\n            var element = dbCartList[index];\n            let obj = {};\n            obj.skuid = element.skuid;\n            obj.product_num = element.number;\n            obj.product_name = element.productName;\n            obj.product_img = element.img;\n            obj.product_jdprice = element.productJdPrice;\n            obj.product_ptprice = element.productPtPrice;\n            obj.product_price = element.productPrice;\n            obj.sale_value = element.sale;\n            obj.stockMsg = element.stockStateDesc;\n            obj.checked = true;\n\n            context.commit({\n              type:\"addCart\",\n              info:obj\n            })\n          }\n          return resolve(\"同步购物车成功\");\n        } else {\n          return resolve(\"同步购物车失败\");\n        }\n      });\n    });\n  }\n};\n\n\n\n\nexport default actions;\n"]}]}