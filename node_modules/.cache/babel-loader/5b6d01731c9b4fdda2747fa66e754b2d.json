{"remainingRequest":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\thread-loader\\dist\\cjs.js!D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\Welfare_New_System\\welfare_mobile\\src\\views\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\src\\views\\login\\Login.vue","mtime":1617440253225},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1kNSBmcm9tICJqcy1tZDUiOwppbXBvcnQgeyBhY2NvdW50TG9naW4gfSBmcm9tICJuZXR3b3JrL2xvZ2luIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpbk5hbWU6ICJsaXNhIiwKICAgICAgbG9naW5QYXNzd29yZDogIm5hd3hzMi4uMiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbWQ1UHdkID0gbWQ1KHRoaXMubG9naW5QYXNzd29yZCk7CiAgICAgIHZhciBjb3JwaWQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmNvcnBpZFZhbHVlOyAvL3RoaXMuJHN0b3JlLmNvcnBpZDsKCiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqLmxvZ2luTmFtZSA9IHRoaXMubG9naW5OYW1lOwogICAgICBvYmoucGFzc3dvcmQgPSBtZDVQd2Q7CiAgICAgIG9iai5jb3JwaWQgPSBjb3JwaWQ7CiAgICAgIG9iai5kZXZpY2VUeXBlID0gMTsKICAgICAgdmFyIHQgPSBuZXcgRGF0ZSgpOyAvL+S9oOW3suefpeeahOaXtumXtAoKICAgICAgdmFyIHRfcyA9IHQuZ2V0VGltZSgpOyAvL+i9rOWMluS4uuaXtumXtOaIs+avq+enkuaVsAoKICAgICAgdmFyIG50ID0gbmV3IERhdGUoKTsgLy/lrprkuYnkuIDkuKrmlrDml7bpl7QKCiAgICAgIG50LnNldFRpbWUodF9zICsgNTAwMCAqIDYwKTsgLy/orr7nva7mlrDml7bpl7Tmr5Tml6fml7bpl7TlpJo15YiG6ZKfCgogICAgICB2YXIgcmVmcmVzaF9leHBpcmVzID0gbnQuZ2V0VGltZSgpOwogICAgICBvYmoucmVmcmVzaF9leHBpcmVzID0gcmVmcmVzaF9leHBpcmVzOwogICAgICBhY2NvdW50TG9naW4ob2JqKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHZhciBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTsKICAgICAgICAgIHN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCByZXMucmVzdWx0LmFjY2Vzc190b2tlbik7CgogICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCh7CiAgICAgICAgICAgIHR5cGU6ICJ1cGRhdGVUb2tlbiIsCiAgICAgICAgICAgIHRva2VuOiBzdG9yYWdlLnRva2VuLAogICAgICAgICAgICBjb3JwaWQ6IHJlcy5yZXN1bHQuY29ycGlkCiAgICAgICAgICB9KTsgLy/ot7PovazliLDnlKjmiLfnpo/liKnpppbpobUKCgogICAgICAgICAgY29uc29sZS5sb2coIui3s+i9rOWIsOeUqOaIt+mmlumhtSIpOwogICAgICAgICAgdmFyIGNvcnBpZCA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzLmNvcnBpZFZhbHVlOwogICAgICAgICAgY29uc29sZS5sb2coY29ycGlkKTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAiL2hvbWVwYWdlIiwKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICBjb3JwaWQ6IGNvcnBpZAogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2cocmVzLnJlc3VsdE1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,OAAA,GAAA,MAAA,QAAA;AAEA,SAAA,YAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,MADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,UAAA,MAAA,GAAA,GAAA,CAAA,KAAA,aAAA,CAAA;AACA,UAAA,MAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA,CAFA,CAEA;;AACA,UAAA,GAAA,GAAA,EAAA;AACA,MAAA,GAAA,CAAA,SAAA,GAAA,KAAA,SAAA;AACA,MAAA,GAAA,CAAA,QAAA,GAAA,MAAA;AACA,MAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AACA,MAAA,GAAA,CAAA,UAAA,GAAA,CAAA;AACA,UAAA,CAAA,GAAA,IAAA,IAAA,EAAA,CARA,CAQA;;AACA,UAAA,GAAA,GAAA,CAAA,CAAA,OAAA,EAAA,CATA,CASA;;AACA,UAAA,EAAA,GAAA,IAAA,IAAA,EAAA,CAVA,CAUA;;AACA,MAAA,EAAA,CAAA,OAAA,CAAA,GAAA,GAAA,OAAA,EAAA,EAXA,CAWA;;AACA,UAAA,eAAA,GAAA,EAAA,CAAA,OAAA,EAAA;AACA,MAAA,GAAA,CAAA,eAAA,GAAA,eAAA;AACA,MAAA,YAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,cAAA,OAAA,GAAA,MAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,KAAA;AACA,UAAA,OAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,MAAA,CAAA,YAAA;;AAEA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AACA,YAAA,IAAA,EAAA,aADA;AAEA,YAAA,KAAA,EAAA,OAAA,CAAA,KAFA;AAGA,YAAA,MAAA,EAAA,GAAA,CAAA,MAAA,CAAA;AAHA,WAAA,EALA,CAUA;;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,cAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,WAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA,WAAA;AAAA,YAAA,KAAA,EAAA;AAAA,cAAA,MAAA,EAAA;AAAA;AAAA,WAAA;AACA,SAfA,MAeA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,aAAA;AACA;AACA,OAnBA;AAoBA;AAnCA;AARA,CAAA","sourcesContent":["<template>\n  <div id=\"login\">\n    <!-- <login-nav-bar class=\"navbar\" /> -->\n    <section class=\"aui-flexView\">\n      <section class=\"aui-scrollView\">\n        <!--标题-->\n        <div class=\"aui-account-title\">\n          <h1>账号登陆</h1>\n        </div>\n        <!--账号密码-->\n        <div class=\"aui-account-tile\">\n          <div class=\"b-line\">\n            <input\n              type=\"text\"\n              v-model=\"loginName\"\n              placeholder=\"请输入登录账号\"\n              id=\"login_name\"\n            />\n            <label id=\"login_name_text\" class=\"err\">手机号不可为空</label>\n          </div>\n          <div>\n            <input\n              type=\"password\"\n              v-model=\"loginPassword\"\n              placeholder=\"请输入密码\"\n              id=\"login_password\"\n            />\n            <label class=\"err\">密码不可为空</label>\n          </div>\n        </div>\n        <!--登录按钮-->\n        <div class=\"aui-account-button\">\n          <button id=\"login_submit\" @click=\"login\">登录</button>\n        </div>\n      </section>\n    </section>\n  </div>\n</template>\n\n<script>\nimport md5 from \"js-md5\";\n\nimport { accountLogin} from \"network/login\";\n\nexport default {\n  components: {},\n  data() {\n    return {\n      loginName: \"lisa\",\n      loginPassword: \"nawxs2..2\",\n    };\n  },\n  methods: {\n    login() {\n      let md5Pwd = md5(this.loginPassword);\n      let corpid = this.$store.getters.corpidValue; //this.$store.corpid;\n      const obj = {};\n      obj.loginName = this.loginName;\n      obj.password = md5Pwd;\n      obj.corpid = corpid;\n      obj.deviceType = 1;\n      let t = new Date(); //你已知的时间\n      let t_s = t.getTime(); //转化为时间戳毫秒数\n      let nt = new Date(); //定义一个新时间\n      nt.setTime(t_s + 5000 * 60); //设置新时间比旧时间多5分钟\n      let refresh_expires=nt.getTime();\n      obj.refresh_expires = refresh_expires;\n      accountLogin(obj).then((res) => {\n        if (res.success) {\n          var storage = window.localStorage;\n          storage.clear();\n          storage.setItem(\"token\", res.result.access_token);\n\n          this.$store.commit({\n            type: \"updateToken\",\n            token: storage.token,\n            corpid: res.result.corpid,\n          });\n          //跳转到用户福利首页\n          console.log(\"跳转到用户首页\");\n          var corpid=this.$store.getters.corpidValue\n          console.log(corpid);\n           this.$router.push({ path: \"/homepage\", query: { corpid } });\n        } else {\n          console.log(res.resultMessage);\n        }\n      });\n    }\n  },\n};\n</script>\n\n<style scoped>\n#login {\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  background-image: url(../../assets/img/login/bg.png);\n  background-size: cover;\n}\n\n.aui-flexView h1 {\n  margin: 0;\n}\n</style>\n"],"sourceRoot":"src/views/login"}]}