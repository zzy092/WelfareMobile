{"remainingRequest":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\Welfare_New_System\\welfare_mobile\\src\\views\\login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\src\\views\\login\\Login.vue","mtime":1617708637884},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\Welfare_New_System\\welfare_mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1kNSBmcm9tICJqcy1tZDUiOwppbXBvcnQgeyBhY2NvdW50TG9naW4gfSBmcm9tICJuZXR3b3JrL2xvZ2luIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpbk5hbWU6ICJsaXNhIiwKICAgICAgbG9naW5QYXNzd29yZDogIm5hd3hzMi4uMiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbWQ1UHdkID0gbWQ1KHRoaXMubG9naW5QYXNzd29yZCk7CiAgICAgIHZhciBjb3JwaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY29ycGlkIik7IC8vdGhpcy4kc3RvcmUuY29ycGlkOwoKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmoubG9naW5OYW1lID0gdGhpcy5sb2dpbk5hbWU7CiAgICAgIG9iai5wYXNzd29yZCA9IG1kNVB3ZDsKICAgICAgb2JqLmNvcnBpZCA9IGNvcnBpZDsKICAgICAgb2JqLmRldmljZVR5cGUgPSAxOwogICAgICB2YXIgdCA9IG5ldyBEYXRlKCk7IC8v5L2g5bey55+l55qE5pe26Ze0CgogICAgICB2YXIgdF9zID0gdC5nZXRUaW1lKCk7IC8v6L2s5YyW5Li65pe26Ze05oiz5q+r56eS5pWwCgogICAgICB2YXIgbnQgPSBuZXcgRGF0ZSgpOyAvL+WumuS5ieS4gOS4quaWsOaXtumXtAoKICAgICAgbnQuc2V0VGltZSh0X3MgKyA1MDAwICogNjApOyAvL+iuvue9ruaWsOaXtumXtOavlOaXp+aXtumXtOWkmjXliIbpkp8KCiAgICAgIHZhciByZWZyZXNoX2V4cGlyZXMgPSBudC5nZXRUaW1lKCk7CiAgICAgIG9iai5yZWZyZXNoX2V4cGlyZXMgPSByZWZyZXNoX2V4cGlyZXM7CiAgICAgIGFjY291bnRMb2dpbihvYmopLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgdmFyIHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlOwogICAgICAgICAgc3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlcy5yZXN1bHQuYWNjZXNzX3Rva2VuKTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KHsKICAgICAgICAgICAgdHlwZTogInVwZGF0ZVRva2VuIiwKICAgICAgICAgICAgdG9rZW46IHN0b3JhZ2UudG9rZW4sCiAgICAgICAgICAgIGNvcnBpZDogcmVzLnJlc3VsdC5jb3JwaWQKICAgICAgICAgIH0pOyAvL+i3s+i9rOWIsOeUqOaIt+emj+WIqemmlumhtQoKCiAgICAgICAgICBjb25zb2xlLmxvZygi6Lez6L2s5Yiw55So5oi36aaW6aG1Iik7CiAgICAgICAgICB2YXIgY29ycGlkID0gX3RoaXMuJHN0b3JlLmdldHRlcnMuY29ycGlkVmFsdWU7CiAgICAgICAgICBjb25zb2xlLmxvZyhjb3JwaWQpOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICIvaG9tZXBhZ2UiLAogICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgIGNvcnBpZDogY29ycGlkCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMucmVzdWx0TWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,OAAA,GAAA,MAAA,QAAA;AAEA,SAAA,YAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,MADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,UAAA,MAAA,GAAA,GAAA,CAAA,KAAA,aAAA,CAAA;AACA,UAAA,MAAA,GAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAFA,CAEA;;AACA,UAAA,GAAA,GAAA,EAAA;AACA,MAAA,GAAA,CAAA,SAAA,GAAA,KAAA,SAAA;AACA,MAAA,GAAA,CAAA,QAAA,GAAA,MAAA;AACA,MAAA,GAAA,CAAA,MAAA,GAAA,MAAA;AACA,MAAA,GAAA,CAAA,UAAA,GAAA,CAAA;AACA,UAAA,CAAA,GAAA,IAAA,IAAA,EAAA,CARA,CAQA;;AACA,UAAA,GAAA,GAAA,CAAA,CAAA,OAAA,EAAA,CATA,CASA;;AACA,UAAA,EAAA,GAAA,IAAA,IAAA,EAAA,CAVA,CAUA;;AACA,MAAA,EAAA,CAAA,OAAA,CAAA,GAAA,GAAA,OAAA,EAAA,EAXA,CAWA;;AACA,UAAA,eAAA,GAAA,EAAA,CAAA,OAAA,EAAA;AACA,MAAA,GAAA,CAAA,eAAA,GAAA,eAAA;AACA,MAAA,YAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,OAAA,EAAA;AACA,cAAA,OAAA,GAAA,MAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,KAAA;AACA,UAAA,OAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,MAAA,CAAA,YAAA;;AAEA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AACA,YAAA,IAAA,EAAA,aADA;AAEA,YAAA,KAAA,EAAA,OAAA,CAAA,KAFA;AAGA,YAAA,MAAA,EAAA,GAAA,CAAA,MAAA,CAAA;AAHA,WAAA,EALA,CAUA;;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,cAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,WAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA,WAAA;AAAA,YAAA,KAAA,EAAA;AAAA,cAAA,MAAA,EAAA;AAAA;AAAA,WAAA;AACA,SAfA,MAeA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,aAAA;AACA;AACA,OAnBA;AAoBA;AAnCA;AARA,CAAA","sourcesContent":["<template>\n  <div id=\"login\">\n    <!-- <login-nav-bar class=\"navbar\" /> -->\n    <section class=\"aui-flexView\">\n      <section class=\"aui-scrollView\">\n        <!--标题-->\n        <div class=\"aui-account-title\">\n          <h1>账号登陆</h1>\n        </div>\n        <!--账号密码-->\n        <div class=\"aui-account-tile\">\n          <div class=\"b-line\">\n            <input\n              type=\"text\"\n              v-model=\"loginName\"\n              placeholder=\"请输入登录账号\"\n              id=\"login_name\"\n            />\n            <label id=\"login_name_text\" class=\"err\">手机号不可为空</label>\n          </div>\n          <div>\n            <input\n              type=\"password\"\n              v-model=\"loginPassword\"\n              placeholder=\"请输入密码\"\n              id=\"login_password\"\n            />\n            <label class=\"err\">密码不可为空</label>\n          </div>\n        </div>\n        <!--登录按钮-->\n        <div class=\"aui-account-button\">\n          <button id=\"login_submit\" @click=\"login\">登录</button>\n        </div>\n      </section>\n    </section>\n  </div>\n</template>\n\n<script>\nimport md5 from \"js-md5\";\n\nimport { accountLogin} from \"network/login\";\n\nexport default {\n  components: {},\n  data() {\n    return {\n      loginName: \"lisa\",\n      loginPassword: \"nawxs2..2\",\n    };\n  },\n  methods: {\n    login() {\n      let md5Pwd = md5(this.loginPassword);\n      let corpid = localStorage.getItem(\"corpid\"); //this.$store.corpid;\n      const obj = {};\n      obj.loginName = this.loginName;\n      obj.password = md5Pwd;\n      obj.corpid = corpid;\n      obj.deviceType = 1;\n      let t = new Date(); //你已知的时间\n      let t_s = t.getTime(); //转化为时间戳毫秒数\n      let nt = new Date(); //定义一个新时间\n      nt.setTime(t_s + 5000 * 60); //设置新时间比旧时间多5分钟\n      let refresh_expires=nt.getTime();\n      obj.refresh_expires = refresh_expires;\n      accountLogin(obj).then((res) => {\n        if (res.success) {\n          var storage = window.localStorage;\n          storage.clear();\n          storage.setItem(\"token\", res.result.access_token);\n\n          this.$store.commit({\n            type: \"updateToken\",\n            token: storage.token,\n            corpid: res.result.corpid,\n          });\n          //跳转到用户福利首页\n          console.log(\"跳转到用户首页\");\n          var corpid=this.$store.getters.corpidValue\n          console.log(corpid);\n           this.$router.push({ path: \"/homepage\", query: { corpid } });\n        } else {\n          console.log(res.resultMessage);\n        }\n      });\n    }\n  },\n};\n</script>\n\n<style scoped>\n#login {\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  background-image: url(../../assets/img/login/bg.png);\n  background-size: cover;\n}\n\n.aui-flexView h1 {\n  margin: 0;\n}\n</style>\n"],"sourceRoot":"src/views/login"}]}