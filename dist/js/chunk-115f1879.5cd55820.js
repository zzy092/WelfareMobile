(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-115f1879"],{1148:function(t,e,r){"use strict";var n=r("a691"),s=r("1d80");t.exports="".repeat||function(t){var e=String(s(this)),r="",i=n(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},"13d5":function(t,e,r){"use strict";var n=r("23e7"),s=r("d58f").left,i=r("a640"),o=r("2d00"),c=r("605d"),a=i("reduce"),d=!c&&o>79&&o<83;n({target:"Array",proto:!0,forced:!a||d},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"13d9":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return void 0!=this.$route.query.submitType?r("div",{attrs:{id:"jdconfirmorder"}},[r("order-nav-bar"),r("def-address-wap",{attrs:{defAddress:t.defAddress}}),r("order-info-wrap",{attrs:{orderInfo:t.orderInfo}}),r("check-out",{attrs:{orderPrice:t.orderPrice,freightPrice:t.freight}}),t.isdefAddress&&t.isFreight?r("div",[r("button",{on:{click:t.confirmOrder}},[t._v("在线支付")])]):t._e()],1):r("div",[r("h1",[t._v("无效的请求")])])},s=[],i=(r("4de4"),r("159b"),r("b64b"),r("b680"),r("13d5"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"defaultwap"}},[void 0!=t.defAddress&&0!==Object.keys(t.defAddress).length?r("div",[r("div",[r("div",[t._v(t._s(t.defAddress.address_user_name))]),r("div",[t._v(t._s(t.defAddress.address_phone))])]),r("div",[r("div",[t._v(t._s(t.address))])])]):r("div",[r("button",[t._v("新增收获地址")])])])}),o=[],c={name:"DefAddressWrap",props:{defAddress:{typeof:Object}},computed:{address:function(){return this.defAddress.province_name+this.defAddress.city_name+this.defAddress.county_name+this.defAddress.town_name+this.defAddress.customer_address}}},a=c,d=r("2877"),f=Object(d["a"])(a,i,o,!1,null,"2fa91dd6",null),u=f.exports,l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.orderInfo,(function(e,n){return r("div",{key:n,attrs:{id:"shop-item"}},[r("div",{staticClass:"item-img"},[r("img",{attrs:{src:e.product_img,alt:""}})]),r("div",{staticClass:"item-info"},[r("div",{staticClass:"item-title"},[t._v(t._s(e.product_name))]),r("div",{staticClass:"info-bottom"},[r("div",{staticClass:"item-price left"},[t._v("￥"+t._s(e.product_ptprice))]),r("div",{staticClass:"right"},[t._v("×"+t._s(e.product_num))])])])])})),0)},h=[],v={name:"OrderInfoWrap",props:{orderInfo:{typeof:Object}}},p=v,g=(r("a018"),Object(d["a"])(p,l,h,!1,null,"4d047364",null)),_=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav-bar",[n("img",{staticClass:"back",attrs:{slot:"left",src:r("7a74")},on:{click:t.backClick},slot:"left"}),n("div",{staticClass:"title",attrs:{slot:"center"},slot:"center"},[n("span",[t._v("确认订单")])])])},m=[],I=r("a7ac"),A={name:"OrderNavBar",components:{NavBar:I["a"]},methods:{backClick:function(){this.$router.back()}}},O=A,k=Object(d["a"])(O,b,m,!1,null,null,null),y=k.exports,E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"buy_checkout"},[r("div",[r("strong",[t._v("商品总额")]),r("span",[t._v("￥"+t._s(t.orderPrice))])]),r("div",[r("strong",[t._v("运费")]),r("span",[t._v("￥"+t._s(t.freightPrice))])]),r("div",[r("strong"),r("span",[t._v("总计：￥"+t._s(t._f("numFilter")(t.orderPrice+t.freightPrice)))])])])},w=[],N=(r("a9e3"),{name:"CheckOut",props:{orderPrice:{typeof:Number,default:0},freightPrice:{typeof:Number,default:0}},methods:{submit:function(){console.log("123456")}},filters:{numFilter:function(t){var e=parseFloat(t).toFixed(3),r=e.substring(0,e.length-1);return r}}}),x=N,F=(r("3f90"),Object(d["a"])(x,E,w,!1,null,"0746358a",null)),C=F.exports,j=r("1bab");function P(){return Object(j["a"])({url:"/User/getDefaultAddress",method:"post"})}function S(t){return Object(j["a"])({url:"/OrderJd/getOrderFreight",method:"post",data:t})}function $(t){return Object(j["a"])({url:"/OrderJd/submitOrder",method:"post",data:t})}var T={components:{OrderNavBar:y,DefAddressWap:u,OrderInfoWrap:_,CheckOut:C},name:"JdConfirmOrder",created:function(){this._getMastAddress(),this._setOrderInfo(),this._getOrderFreight()},data:function(){return{defAddress:{},orderInfo:[],checkInfo:{},freight:0,orderPrice:0,addressId:0,isdefAddress:!1,isFreight:!1}},methods:{_setOrderInfo:function(){var t=this.$route.query.submitType;if("1"==t){var e=this.$store.getters.cartList;this.orderInfo=e.filter((function(t){return t.checked}))}},_getMastAddress:function(){var t=this;P().then((function(e){e.success&&(t.isdefAddress=!0,t.addressId=e.result.id,console.log(e),t.$store.commit({type:"setDefAddress",defAddress:e.result.area_str_ids}),t.defAddress=e.result)}))},_getOrderFreight:function(){var t=this,e=new Object;e.defAddress=this.$store.getters.getDefAddress,e.skuUums=this.getSku(),S(e).then((function(e){e.success&&(t.isFreight=!0,t.freight=e.result.freight)}))},confirmOrder:function(){var t=new Object;t.addressId=this.addressId,t.skus=this.getSku(),t.payMoney=this.orderPrice+this.freight,$(t).then((function(t){t.success?(console.log(t),console.log("提交订单成功")):console.log(t.resultMessage)}))},getSku:function(){var t=[];return this.orderInfo.forEach((function(e){var r={};r.skuId=e.skuid,r.num=e.product_num,t.push(r)})),t}},watch:{orderInfo:function(){0!==Object.keys(this.orderInfo).length&&(this.orderPrice=this.orderInfo.reduce((function(t,e){return t+e.product_num*e.product_ptprice}),0).toFixed(2))}}},M=T,R=Object(d["a"])(M,n,s,!1,null,"0613b8c2",null);e["default"]=R.exports},"159b":function(t,e,r){var n=r("da84"),s=r("fdbc"),i=r("17c2"),o=r("9112");for(var c in s){var a=n[c],d=a&&a.prototype;if(d&&d.forEach!==i)try{o(d,"forEach",i)}catch(f){d.forEach=i}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,s=r("a640"),i=s("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},2361:function(t,e,r){},"3f90":function(t,e,r){"use strict";r("9d40")},"408a":function(t,e,r){var n=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),s=r("5899"),i="["+s+"]",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),a=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(c,"")),r}};t.exports={start:a(1),end:a(2),trim:a(3)}},7156:function(t,e,r){var n=r("861d"),s=r("d2bb");t.exports=function(t,e,r){var i,o;return s&&"function"==typeof(i=e.constructor)&&i!==r&&n(o=i.prototype)&&o!==r.prototype&&s(t,o),t}},"7a74":function(t,e,r){t.exports=r.p+"img/back.d5a990cc.svg"},"9d40":function(t,e,r){},a018:function(t,e,r){"use strict";r("2361")},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},a7ac:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"nav-bar"}},[r("div",{staticClass:"nav-left"},[t._t("left")],2),r("div",{staticClass:"nav-center"},[t._t("center")],2),r("div",{staticClass:"nav-right"},[t._t("right")],2)])},s=[],i={name:"NavBar"},o=i,c=(r("f5de"),r("2877")),a=Object(c["a"])(o,n,s,!1,null,"78e70486",null);e["a"]=a.exports},a9e3:function(t,e,r){"use strict";var n=r("83ab"),s=r("da84"),i=r("94ca"),o=r("6eeb"),c=r("5135"),a=r("c6b6"),d=r("7156"),f=r("c04e"),u=r("d039"),l=r("7c73"),h=r("241c").f,v=r("06cf").f,p=r("9bf2").f,g=r("58a8").trim,_="Number",b=s[_],m=b.prototype,I=a(l(m))==_,A=function(t){var e,r,n,s,i,o,c,a,d=f(t,!1);if("string"==typeof d&&d.length>2)if(d=g(d),e=d.charCodeAt(0),43===e||45===e){if(r=d.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+d}for(i=d.slice(2),o=i.length,c=0;c<o;c++)if(a=i.charCodeAt(c),a<48||a>s)return NaN;return parseInt(i,n)}return+d};if(i(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var O,k=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof k&&(I?u((function(){m.valueOf.call(r)})):a(r)!=_)?d(new b(A(e)),r,k):A(e)},y=n?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;y.length>E;E++)c(b,O=y[E])&&!c(k,O)&&p(k,O,v(b,O));k.prototype=m,m.constructor=k,o(s,_,k)}},b64b:function(t,e,r){var n=r("23e7"),s=r("7b0b"),i=r("df75"),o=r("d039"),c=o((function(){i(1)}));n({target:"Object",stat:!0,forced:c},{keys:function(t){return i(s(t))}})},b680:function(t,e,r){"use strict";var n=r("23e7"),s=r("a691"),i=r("408a"),o=r("1148"),c=r("d039"),a=1..toFixed,d=Math.floor,f=function(t,e,r){return 0===e?r:e%2===1?f(t,e-1,r*t):f(t*t,e/2,r)},u=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},l=function(t,e,r){var n=-1,s=r;while(++n<6)s+=e*t[n],t[n]=s%1e7,s=d(s/1e7)},h=function(t,e){var r=6,n=0;while(--r>=0)n+=t[r],t[r]=d(n/e),n=n%e*1e7},v=function(t){var e=6,r="";while(--e>=0)if(""!==r||0===e||0!==t[e]){var n=String(t[e]);r=""===r?n:r+o.call("0",7-n.length)+n}return r},p=a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){a.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,r,n,c,a=i(this),d=s(t),p=[0,0,0,0,0,0],g="",_="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(g="-",a=-a),a>1e-21)if(e=u(a*f(2,69,1))-69,r=e<0?a*f(2,-e,1):a/f(2,e,1),r*=4503599627370496,e=52-e,e>0){l(p,0,r),n=d;while(n>=7)l(p,1e7,0),n-=7;l(p,f(10,n,1),0),n=e-1;while(n>=23)h(p,1<<23),n-=23;h(p,1<<n),l(p,1,1),h(p,2),_=v(p)}else l(p,0,r),l(p,1<<-e,0),_=v(p)+o.call("0",d);return d>0?(c=_.length,_=g+(c<=d?"0."+o.call("0",d-c)+_:_.slice(0,c-d)+"."+_.slice(c-d))):_=g+_,_}})},d58f:function(t,e,r){var n=r("1c0b"),s=r("7b0b"),i=r("44ad"),o=r("50c4"),c=function(t){return function(e,r,c,a){n(r);var d=s(e),f=i(d),u=o(d.length),l=t?u-1:0,h=t?-1:1;if(c<2)while(1){if(l in f){a=f[l],l+=h;break}if(l+=h,t?l<0:u<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:u>l;l+=h)l in f&&(a=r(a,f[l],l,d));return a}};t.exports={left:c(!1),right:c(!0)}},d691:function(t,e,r){},f5de:function(t,e,r){"use strict";r("d691")}}]);
//# sourceMappingURL=chunk-115f1879.5cd55820.js.map